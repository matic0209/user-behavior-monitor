# 1. 测试用例名称

异常行为拦截功能（黑盒-打包后EXE）

# 2. 测试用例综述

验证在检测到高危异常行为时，系统可执行拦截动作（如锁屏），并在无法执行系统操作时提供安全回退与清晰记录。

# 3. 用例初始化

- 打包后的可执行程序（示例：`UserBehaviorMonitor.exe`）。
- 配置中开启系统动作：`alert.lock_screen_threshold`、`alert.force_logout`（如适用）。
- 非生产机器，具备锁屏权限；测试账号已知解锁方式。

# 4. 前提和约束

- Windows 需允许调用锁屏/登出 API；Linux/Kylin 在无 GUI 环境下应降级为日志/记录告警。
- 执行前保存当前工作，避免锁屏导致未保存数据丢失。

# 5. 测试步骤

| 序号 | 输入及操作 | 期望结果或评估标准 | 实测结果 | 测试结论 |
| --- | --- | --- | --- | --- |
| 1 | 启动 EXE，进入实时监测 | 进入监控状态，无错误日志 |  |  |
| 2 | 注入高分异常序列（或使用专用脚本） | 预测输出异常分数 ≥ 锁屏阈值 |  |  |
| 3 | 观察系统行为 | 触发锁屏/登出（按配置），或在无权限时记录明确降级处理 |  |  |
| 4 | 解锁后检查日志与数据库 | 记录告警与拦截动作（时间、分数、用户、动作类型） |  |  |
| 5 | 冷却时间内重复触发 | 不重复执行同类系统拦截 |  |  |
| 6 | 稳定性检查 | 无应用崩溃，日志无未处理异常 |  |  |
