# 完整的Windows测试用例指南 - Git Bash版本

## 🎯 测试用例总览

本测试套件包含10个完整的测试用例，覆盖了用户行为监控系统的所有核心功能。

| 测试用例 | 功能描述 | 预期结果 | 执行时间 |
|----------|----------|----------|----------|
| **TC01** | 实时输入采集 | 日志包含事件类型关键字 | 2-3分钟 |
| **TC02** | 特征提取功能 | 日志包含特征处理关键字 | 3-5分钟 |
| **TC03** | 深度学习分类 | 日志包含分类训练关键字 | 5-8分钟 |
| **TC04** | 异常告警 | 日志包含异常告警关键字 | 2-3分钟 |
| **TC05** | 异常阻止 | 日志包含阻止预防关键字 | 2-3分钟 |
| **TC06** | 行为指纹管理 | 日志包含指纹相关关键字 | 3-5分钟 |
| **TC07** | 采集指标 | 日志包含采集统计关键字 | 4-6分钟 |
| **TC08** | 特征数量阈值 | 特征数量 >= 200 | 3-5分钟 |
| **TC09** | 分类准确率指标 | Accuracy >= 90%, F1 >= 85% | 5-8分钟 |
| **TC10** | 异常误报率 | 误报率 <= 1% | 6-10分钟 |

## 🧪 详细测试用例说明

### **TC01 - 实时输入采集测试**
**功能**: 验证系统能够实时采集用户的鼠标和键盘输入
**测试步骤**:
1. 启动程序
2. 模拟鼠标移动、点击和滚动
3. 检查日志中的事件记录
**预期结果**: 日志包含keyboard、click、move、scroll等关键字
**快捷键**: 无（自动采集）

### **TC02 - 特征提取功能测试**
**功能**: 验证系统能够从原始行为数据中提取有用特征
**测试步骤**:
1. 启动程序
2. 发送快捷键rrrr触发特征处理
3. 检查特征处理相关日志
**预期结果**: 日志包含特征处理、完成等关键字
**快捷键**: rrrr

### **TC03 - 深度学习分类测试**
**功能**: 验证深度学习模型的训练和分类功能
**测试步骤**:
1. 启动程序
2. 发送快捷键rrrr触发模型训练
3. 检查分类训练相关日志
**预期结果**: 日志包含深度学习、分类、训练等关键字
**快捷键**: rrrr

### **TC04 - 异常告警测试**
**功能**: 验证系统能够检测异常行为并发送告警
**测试步骤**:
1. 启动程序
2. 发送快捷键aaaa触发异常告警
3. 检查告警相关日志
**预期结果**: 日志包含异常、告警、警告等关键字
**快捷键**: aaaa

### **TC05 - 异常阻止测试**
**功能**: 验证系统能够阻止检测到的异常行为
**测试步骤**:
1. 启动程序
2. 发送快捷键aaaa触发异常阻止
3. 检查阻止相关日志
**预期结果**: 日志包含阻止、预防、停止等关键字
**快捷键**: aaaa

### **TC06 - 行为指纹管理测试**
**功能**: 验证行为指纹的导入、导出和管理功能
**测试步骤**:
1. 启动程序
2. 发送快捷键rrrr触发指纹生成
3. 检查指纹相关日志
**预期结果**: 日志包含指纹、导入、导出等关键字
**快捷键**: rrrr

### **TC07 - 采集指标测试**
**功能**: 验证数据采集的统计指标和性能
**测试步骤**:
1. 启动程序
2. 发送快捷键rrrr触发数据采集
3. 检查采集统计相关日志
**预期结果**: 日志包含采集、指标、统计等关键字
**快捷键**: rrrr

### **TC08 - 特征数量阈值测试**
**功能**: 验证提取的特征数量满足最低要求
**测试步骤**:
1. 启动程序
2. 发送快捷键rrrr触发特征处理
3. 检查特征数量统计
**预期结果**: 特征数量 >= 200
**快捷键**: rrrr

### **TC09 - 分类准确率指标测试**
**功能**: 验证分类算法的准确率和F1值
**测试步骤**:
1. 启动程序
2. 发送快捷键rrrr触发模型训练和评估
3. 检查准确率和F1值
**预期结果**: Accuracy >= 90%, F1 >= 85%
**快捷键**: rrrr

### **TC10 - 异常误报率测试**
**功能**: 验证异常检测的误报率在可接受范围内
**测试步骤**:
1. 启动程序
2. 启动在线异常检测监控
3. 分析误报率统计
**预期结果**: 误报率 <= 1%
**快捷键**: rrrr

## 🚀 运行方式

### **运行所有测试用例**
```bash
cd tests/scripts_windows
./run_all_improved.sh -ExePath "../../dist/UserBehaviorMonitor.exe" -WorkDir "win_test_run"
```

### **运行单个测试用例**
```bash
# 特征提取测试
./TC02_feature_extraction.sh -ExePath "../../dist/UserBehaviorMonitor.exe" -WorkDir "win_test_run"

# 分类准确率测试
./TC09_classification_accuracy_metric.sh -ExePath "../../dist/UserBehaviorMonitor.exe" -WorkDir "win_test_run"
```

### **跳过失败的测试**
```bash
./run_all_improved.sh -ExePath "../../dist/UserBehaviorMonitor.exe" -WorkDir "win_test_run" -SkipFailed
```

## ⏱️ 时间规划

### **完整测试套件执行时间**
- **快速模式**: 30-45分钟（跳过失败测试）
- **完整模式**: 45-75分钟（包含所有测试）
- **调试模式**: 60-90分钟（详细日志输出）

### **单个测试用例时间**
- **简单测试**: 2-3分钟（TC01, TC04, TC05）
- **中等测试**: 3-5分钟（TC02, TC06, TC07, TC08）
- **复杂测试**: 5-10分钟（TC03, TC09, TC10）

## 🔧 测试环境要求

### **系统要求**
- Windows 10/11 或 Windows Server 2016+
- Git Bash 环境
- 至少4GB可用内存
- 至少2GB可用磁盘空间

### **软件依赖**
- Python 3.7+
- 基本的Unix工具（grep, sed, awk等）
- 网络连接（某些功能需要）

### **权限要求**
- 对工作目录的读写权限
- 能够启动和终止进程
- 能够模拟鼠标和键盘输入

## 📊 结果分析

### **测试状态说明**
- **Pass**: 测试通过，所有检查项都满足要求
- **Partial**: 测试部分通过，部分检查项满足要求
- **Review**: 测试需要复核，可能存在问题

### **常见问题分析**
1. **数据不足**: 某些测试需要足够的训练数据
2. **时间超时**: 复杂操作可能需要更长的等待时间
3. **权限问题**: 检查文件和进程权限设置
4. **环境差异**: 不同Windows版本可能有差异

### **性能指标**
- **成功率**: 通过测试数量 / 总测试数量
- **执行时间**: 从开始到完成的总时间
- **资源使用**: 内存和CPU使用情况

## 🔄 维护和更新

### **定期检查**
- 每月检查测试脚本的兼容性
- 根据程序功能变化更新测试用例
- 优化测试参数和等待时间

### **持续改进**
- 收集测试执行中的问题反馈
- 优化测试脚本的错误处理
- 改进测试结果的展示格式

### **版本管理**
- 测试脚本与程序版本保持同步
- 记录测试脚本的变更历史
- 维护测试环境的配置文档

## 📞 技术支持

### **获取帮助**
1. 查看测试脚本的详细输出信息
2. 检查 `win_test_run/logs` 目录中的日志文件
3. 参考 `GIT_BASH_TEST_GUIDE.md` 文档
4. 查看程序的控制台输出

### **故障排除**
1. 确保所有依赖都已正确安装
2. 检查系统权限和防火墙设置
3. 验证网络连接和资源访问
4. 查看详细的错误日志信息

现在你有了完整的测试用例套件，可以在Git Bash环境下全面测试Windows用户行为监控系统的所有功能！
