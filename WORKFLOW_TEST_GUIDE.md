# å·¥ä½œæµç¨‹æµ‹è¯•æŒ‡å—

## ðŸ“‹ æ¦‚è¿°

æœ¬æŒ‡å—ä»‹ç»å¦‚ä½•ä½¿ç”¨æµ‹è¯•å·¥å…·æ¥éªŒè¯ç”¨æˆ·è¡Œä¸ºç›‘æŽ§ç³»ç»Ÿçš„å®Œæ•´å·¥ä½œæµç¨‹ï¼Œä»Žæ•°æ®ç”Ÿæˆåˆ°ç‰¹å¾å¤„ç†ã€æ¨¡åž‹è®­ç»ƒï¼Œå†åˆ°åœ¨çº¿é¢„æµ‹ã€‚

## ðŸ› ï¸ æµ‹è¯•å·¥å…·

### 1. å®Œæ•´å·¥ä½œæµç¨‹æµ‹è¯• (`test_complete_workflow.py`)

**ç”¨é€”**ï¼šå®Œæ•´çš„ç«¯åˆ°ç«¯æµ‹è¯•ï¼Œæ¨¡æ‹ŸçœŸå®žä½¿ç”¨åœºæ™¯

**ç‰¹ç‚¹**ï¼š
- ç”Ÿæˆå¤šä¸ªæµ‹è¯•ç”¨æˆ·çš„æ•°æ®
- æ¯ä¸ªç”¨æˆ·æœ‰ä¸åŒçš„é¼ æ ‡è¡Œä¸ºæ¨¡å¼
- å®Œæ•´çš„ç‰¹å¾å¤„ç†å’Œæ¨¡åž‹è®­ç»ƒæµç¨‹
- è¯¦ç»†çš„æµ‹è¯•æŠ¥å‘Š

**é€‚ç”¨åœºæ™¯**ï¼š
- ç³»ç»Ÿé›†æˆæµ‹è¯•
- æ€§èƒ½éªŒè¯
- åŠŸèƒ½å®Œæ•´æ€§æ£€æŸ¥

### 2. å¿«é€Ÿå·¥ä½œæµç¨‹æµ‹è¯• (`quick_workflow_test.py`)

**ç”¨é€”**ï¼šå¿«é€ŸéªŒè¯å„ä¸ªç»„ä»¶æ˜¯å¦æ­£å¸¸å·¥ä½œ

**ç‰¹ç‚¹**ï¼š
- ç”Ÿæˆå°‘é‡æµ‹è¯•æ•°æ®
- å¿«é€ŸéªŒè¯æ ¸å¿ƒåŠŸèƒ½
- ç®€åŒ–çš„æµ‹è¯•æµç¨‹
- å¿«é€Ÿåé¦ˆç»“æžœ

**é€‚ç”¨åœºæ™¯**ï¼š
- å¼€å‘è°ƒè¯•
- å¿«é€ŸåŠŸèƒ½éªŒè¯
- é—®é¢˜æŽ’æŸ¥

## ðŸš€ ä½¿ç”¨æ–¹æ³•

### å¿«é€Ÿæµ‹è¯•ï¼ˆæŽ¨èå…ˆè¿è¡Œï¼‰

```bash
# è¿è¡Œå¿«é€Ÿæµ‹è¯•
python quick_workflow_test.py
```

**é¢„æœŸè¾“å‡º**ï¼š
```
ðŸ”§ å¿«é€Ÿå·¥ä½œæµç¨‹æµ‹è¯•å·¥å…·
========================================
å¼€å§‹å¿«é€Ÿå·¥ä½œæµç¨‹æµ‹è¯•
========================================

ðŸ“Š æ­¥éª¤1: ç”Ÿæˆæµ‹è¯•æ•°æ®
ç”Ÿæˆå¿«é€Ÿæµ‹è¯•æ•°æ®...
ç”Ÿæˆäº† 200 æ¡æµ‹è¯•æ•°æ®

ðŸ—„ï¸ æ­¥éª¤2: æµ‹è¯•æ•°æ®åº“æ“ä½œ
æµ‹è¯•æ•°æ®åº“æ“ä½œ...
âœ… æ•°æ®åº“æ“ä½œæµ‹è¯•æˆåŠŸ
  é¼ æ ‡äº‹ä»¶æ•°: 200
  ç‰¹å¾æ•°æ®æ•°: 50

ðŸ”§ æ­¥éª¤3: æµ‹è¯•ç‰¹å¾å¤„ç†
æµ‹è¯•ç‰¹å¾å¤„ç†...
âœ… ç‰¹å¾å¤„ç†æµ‹è¯•æˆåŠŸ

ðŸ¤– æ­¥éª¤4: æµ‹è¯•æ¨¡åž‹è®­ç»ƒ
æµ‹è¯•æ¨¡åž‹è®­ç»ƒ...
âœ… æ¨¡åž‹è®­ç»ƒæµ‹è¯•æˆåŠŸ

ðŸŽ¯ æ­¥éª¤5: æµ‹è¯•é¢„æµ‹åŠŸèƒ½
æµ‹è¯•é¢„æµ‹åŠŸèƒ½...
âœ… é¢„æµ‹åŠŸèƒ½æµ‹è¯•æˆåŠŸ
  å¼‚å¸¸åˆ†æ•°: 0.123

å¿«é€Ÿæµ‹è¯•ç»“æžœæŠ¥å‘Š
==================================================
  data_generation: âœ… é€šè¿‡
  database: âœ… é€šè¿‡
  feature_processing: âœ… é€šè¿‡
  model_training: âœ… é€šè¿‡
  prediction: âœ… é€šè¿‡

æ€»ä½“æˆåŠŸçŽ‡: 100.0% (5/5)
ðŸŽ‰ æ‰€æœ‰æµ‹è¯•éƒ½é€šè¿‡äº†ï¼å·¥ä½œæµç¨‹è¿è¡Œæ­£å¸¸ã€‚
```

### å®Œæ•´æµ‹è¯•

```bash
# è¿è¡Œå®Œæ•´æµ‹è¯•
python test_complete_workflow.py
```

**é¢„æœŸè¾“å‡º**ï¼š
```
ðŸ”§ å®Œæ•´å·¥ä½œæµç¨‹æµ‹è¯•å·¥å…·
============================================================
å¼€å§‹å®Œæ•´å·¥ä½œæµç¨‹æµ‹è¯•
============================================================

ðŸ“Š æ­¥éª¤1: ç”Ÿæˆæµ‹è¯•æ•°æ®
å¼€å§‹ç”Ÿæˆæµ‹è¯•é¼ æ ‡æ•°æ®...
ä¸ºç”¨æˆ· test_user_1 ç”Ÿæˆæ•°æ®...
ä¸ºç”¨æˆ· test_user_2 ç”Ÿæˆæ•°æ®...
ä¸ºç”¨æˆ· test_user_3 ç”Ÿæˆæ•°æ®...
æµ‹è¯•é¼ æ ‡æ•°æ®ç”Ÿæˆå®Œæˆ

ðŸ”§ æ­¥éª¤2: å¤„ç†ç‰¹å¾
å¼€å§‹ç‰¹å¾å¤„ç†...
å¤„ç†ç”¨æˆ· test_user_1 çš„ç‰¹å¾...
ä¼šè¯ test_user_1_session_1 ç‰¹å¾å¤„ç†æˆåŠŸ
...
ç‰¹å¾å¤„ç†å®Œæˆ

ðŸ¤– æ­¥éª¤3: è®­ç»ƒæ¨¡åž‹
å¼€å§‹æ¨¡åž‹è®­ç»ƒ...
è®­ç»ƒç”¨æˆ· test_user_1 çš„æ¨¡åž‹...
ç”¨æˆ· test_user_1 æ¨¡åž‹è®­ç»ƒæˆåŠŸ
...
æ¨¡åž‹è®­ç»ƒå®Œæˆ

ðŸŽ¯ æ­¥éª¤4: æµ‹è¯•åœ¨çº¿é¢„æµ‹
å¼€å§‹åœ¨çº¿é¢„æµ‹æµ‹è¯•...
æµ‹è¯•ç”¨æˆ· test_user_1 çš„åœ¨çº¿é¢„æµ‹...
ç”¨æˆ· test_user_1 é¢„æµ‹ç»“æžœ:
  å¼‚å¸¸åˆ†æ•°: 0.156
  é¢„æµ‹ç»“æžœ: normal
  ç½®ä¿¡åº¦: 0.892
...
åœ¨çº¿é¢„æµ‹æµ‹è¯•å®Œæˆ

============================================================
âœ… å®Œæ•´å·¥ä½œæµç¨‹æµ‹è¯•æˆåŠŸå®Œæˆï¼
============================================================

ðŸ“‹ ç”Ÿæˆæµ‹è¯•æŠ¥å‘Š...
æµ‹è¯•æŠ¥å‘Šå·²ä¿å­˜åˆ°: logs/test_report.json

ðŸ“Š æµ‹è¯•æŠ¥å‘Šæ‘˜è¦:
  æµ‹è¯•æ—¶é—´: 2024-01-15T10:30:45.123456
  æµ‹è¯•ç”¨æˆ·æ•°: 3
  é¼ æ ‡äº‹ä»¶æ€»æ•°: 4500
  ç‰¹å¾æ•°æ®æ€»æ•°: 150
  è®­ç»ƒæ¨¡åž‹æ•°: 3
  æ¨¡åž‹æ–‡ä»¶: user_test_user_1_model.pkl, user_test_user_2_model.pkl, user_test_user_3_model.pkl
```

## ðŸ“Š æµ‹è¯•æ•°æ®è¯´æ˜Ž

### ç”¨æˆ·è¡Œä¸ºæ¨¡å¼

æµ‹è¯•å·¥å…·ä¼šç”Ÿæˆä¸‰ç§ä¸åŒçš„ç”¨æˆ·è¡Œä¸ºæ¨¡å¼ï¼š

1. **test_user_1**ï¼šæ…¢é€Ÿã€é«˜ç²¾åº¦ã€çº¿æ€§ç§»åŠ¨
   - é¼ æ ‡ç§»åŠ¨ç¼“æ…¢ä¸”ç²¾ç¡®
   - ä¸»è¦è¿›è¡Œçº¿æ€§è½¨è¿¹ç§»åŠ¨
   - é€‚åˆæµ‹è¯•ç²¾ç¡®åº¦è¦æ±‚é«˜çš„åœºæ™¯

2. **test_user_2**ï¼šå¿«é€Ÿã€ä¸­ç­‰ç²¾åº¦ã€éšæœºç§»åŠ¨
   - é¼ æ ‡ç§»åŠ¨å¿«é€Ÿä¸”éšæœº
   - æ›´å¤šç‚¹å‡»äº‹ä»¶
   - é€‚åˆæµ‹è¯•åŠ¨æ€è¡Œä¸ºæ£€æµ‹

3. **test_user_3**ï¼šä¸­é€Ÿã€ä½Žç²¾åº¦ã€åœ†å½¢ç§»åŠ¨
   - é¼ æ ‡ç§»åŠ¨å‘ˆåœ†å½¢è½¨è¿¹
   - ç²¾åº¦ç›¸å¯¹è¾ƒä½Ž
   - é€‚åˆæµ‹è¯•æ¨¡å¼è¯†åˆ«

### æ•°æ®é‡é…ç½®

#### å¿«é€Ÿæµ‹è¯•
- ç”¨æˆ·æ•°ï¼š1ä¸ª
- äº‹ä»¶æ•°ï¼š200ä¸ª
- é¢„è®¡è€—æ—¶ï¼š1-2åˆ†é’Ÿ

#### å®Œæ•´æµ‹è¯•
- ç”¨æˆ·æ•°ï¼š3ä¸ª
- æ¯ç”¨æˆ·ä¼šè¯æ•°ï¼š3ä¸ª
- æ¯ä¼šè¯äº‹ä»¶æ•°ï¼š500ä¸ª
- æ€»äº‹ä»¶æ•°ï¼š4500ä¸ª
- é¢„è®¡è€—æ—¶ï¼š5-10åˆ†é’Ÿ

## ðŸ“ˆ æµ‹è¯•æŠ¥å‘Š

### å¿«é€Ÿæµ‹è¯•æŠ¥å‘Š (`logs/quick_test_report.json`)

```json
{
  "test_time": "2024-01-15T10:30:45.123456",
  "test_user": "quick_test_user",
  "events_count": 200,
  "results": {
    "data_generation": true,
    "database": true,
    "feature_processing": true,
    "model_training": true,
    "prediction": true
  },
  "success_rate": 100.0
}
```

### å®Œæ•´æµ‹è¯•æŠ¥å‘Š (`logs/test_report.json`)

```json
{
  "test_time": "2024-01-15T10:30:45.123456",
  "test_users": ["test_user_1", "test_user_2", "test_user_3"],
  "sessions_per_user": 3,
  "events_per_session": 500,
  "total_events": 4500,
  "mouse_events_count": 4500,
  "features_count": 150,
  "trained_models": [
    "user_test_user_1_model.pkl",
    "user_test_user_2_model.pkl",
    "user_test_user_3_model.pkl"
  ],
  "model_count": 3
}
```

## ðŸ” æ•…éšœæŽ’é™¤

### å¸¸è§é—®é¢˜

1. **å¯¼å…¥é”™è¯¯**
   ```
   ModuleNotFoundError: No module named 'src.core'
   ```
   **è§£å†³æ–¹æ¡ˆ**ï¼šç¡®ä¿åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹è¿è¡Œæµ‹è¯•

2. **æ•°æ®åº“é”™è¯¯**
   ```
   sqlite3.OperationalError: no such table
   ```
   **è§£å†³æ–¹æ¡ˆ**ï¼šæµ‹è¯•å·¥å…·ä¼šè‡ªåŠ¨åˆ›å»ºå¿…è¦çš„è¡¨ç»“æž„

3. **ç‰¹å¾å¤„ç†å¤±è´¥**
   ```
   âŒ ç‰¹å¾å¤„ç†æµ‹è¯•å¤±è´¥
   ```
   **è§£å†³æ–¹æ¡ˆ**ï¼šæ£€æŸ¥æ•°æ®é‡æ˜¯å¦è¶³å¤Ÿï¼ˆè‡³å°‘100ä¸ªäº‹ä»¶ï¼‰

4. **æ¨¡åž‹è®­ç»ƒå¤±è´¥**
   ```
   âŒ æ¨¡åž‹è®­ç»ƒæµ‹è¯•å¤±è´¥
   ```
   **è§£å†³æ–¹æ¡ˆ**ï¼šç¡®ä¿æœ‰è¶³å¤Ÿçš„ç‰¹å¾æ•°æ®å’Œè´Ÿæ ·æœ¬

### è°ƒè¯•å»ºè®®

1. **æŸ¥çœ‹è¯¦ç»†æ—¥å¿—**
   ```bash
   tail -f logs/monitor_*.log
   ```

2. **æ£€æŸ¥æ•°æ®åº“å†…å®¹**
   ```bash
   sqlite3 data/mouse_data.db "SELECT COUNT(*) FROM mouse_events;"
   sqlite3 data/mouse_data.db "SELECT COUNT(*) FROM features;"
   ```

3. **éªŒè¯æ¨¡åž‹æ–‡ä»¶**
   ```bash
   ls -la models/user_*_model.pkl
   ```

## ðŸŽ¯ æµ‹è¯•éªŒè¯

### æˆåŠŸæ ‡å‡†

1. **å¿«é€Ÿæµ‹è¯•**ï¼šæ‰€æœ‰5ä¸ªæµ‹è¯•é¡¹ç›®éƒ½é€šè¿‡
2. **å®Œæ•´æµ‹è¯•**ï¼šæ‰€æœ‰ç”¨æˆ·éƒ½èƒ½æˆåŠŸè®­ç»ƒæ¨¡åž‹
3. **é¢„æµ‹åŠŸèƒ½**ï¼šèƒ½å¤Ÿè¿”å›žåˆç†çš„å¼‚å¸¸åˆ†æ•°

### æ€§èƒ½æŒ‡æ ‡

- **æ•°æ®ç”Ÿæˆé€Ÿåº¦**ï¼š>1000äº‹ä»¶/ç§’
- **ç‰¹å¾å¤„ç†é€Ÿåº¦**ï¼š>100äº‹ä»¶/ç§’
- **æ¨¡åž‹è®­ç»ƒæ—¶é—´**ï¼š<2åˆ†é’Ÿ/ç”¨æˆ·
- **é¢„æµ‹å“åº”æ—¶é—´**ï¼š<1ç§’

## ðŸ“ æ³¨æ„äº‹é¡¹

1. **æµ‹è¯•çŽ¯å¢ƒ**ï¼šç¡®ä¿åœ¨å¹²å‡€çš„çŽ¯å¢ƒä¸­è¿è¡Œæµ‹è¯•
2. **æ•°æ®æ¸…ç†**ï¼šæµ‹è¯•ä¼šæ¸…ç†çŽ°æœ‰çš„æµ‹è¯•æ•°æ®
3. **èµ„æºéœ€æ±‚**ï¼šå®Œæ•´æµ‹è¯•éœ€è¦è¾ƒå¤šå†…å­˜å’ŒCPUèµ„æº
4. **æ—¶é—´å®‰æŽ’**ï¼šå»ºè®®åœ¨éžé«˜å³°æœŸè¿è¡Œå®Œæ•´æµ‹è¯•

## ðŸ”„ æŒç»­é›†æˆ

å¯ä»¥å°†æµ‹è¯•å·¥å…·é›†æˆåˆ°CI/CDæµç¨‹ä¸­ï¼š

```yaml
# .github/workflows/test.yml
- name: Run Workflow Tests
  run: |
    python quick_workflow_test.py
    python test_complete_workflow.py
```

è¿™æ ·å¯ä»¥ç¡®ä¿æ¯æ¬¡ä»£ç æ›´æ–°åŽï¼Œæ•´ä¸ªå·¥ä½œæµç¨‹éƒ½èƒ½æ­£å¸¸è¿è¡Œã€‚
